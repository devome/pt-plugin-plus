"".getQueryString||(String.prototype.getQueryString=function(e,t){null==t&&(t="&");var r,s=new RegExp("(^|"+t+"|\\?)"+e+"=([^"+t+"]*)("+t+"|$)");return(r=this.match(s))?decodeURI(r[2]):null}),function(e){let t=new class{constructor(){this.haveData=!1,this.categories={},/auth_form/.test(e.responseText)?e.status=ESearchResultParseStatus.needLogin:(e.isLogged=!0,/没有种子|No [Tt]orrents?|Your search did not match anything|用准确的关键字重试/.test(e.responseText)?e.status=ESearchResultParseStatus.noTorrents:this.haveData=!0)}getResult(){let t=e.site,r=[],s=e.page.find(e.resultSelector||"table.torrent_table:last > tbody > tr");if(0==s.length)return e.status=ESearchResultParseStatus.torrentTableIsEmpty,r;let n=s.eq(0).find("th,td"),a={time:-1,size:-1,seeders:-1,leechers:-1,completed:-1,comments:-1,author:-1};t.url.lastIndexOf("/")!=t.url.length-1&&(t.url+="/");for(let e=0;e<n.length;e++){const t=n.eq(e);t.find("a[href*='order_by=time']").length?a.time=e:t.find("a[href*='order_by=size']").length?a.size=e:t.find("a[href*='order_by=seeders']").length?a.seeders=e:t.find("a[href*='order_by=leechers']").length?a.leechers=e:t.find("a[href*='order_by=snatched']").length&&(a.completed=e)}try{for(let n=1;n<s.length;n++){const l=s.eq(n);let i=l.find(">td"),o=l.find("a[href*='torrents.php?id=']").first();if(0==o.length)continue;let h=o.attr("href");h&&"http"!==h.substr(0,4)&&(h=`${t.url}${h}`);let c=l.find("a[href*='torrents.php?action=download'][title='Download']").first();if(0==c.length)continue;c=c.attr("href"),"http"!==c.substr(0,4)&&(c=`${t.url}${c}`);let u=-1==a.time?"":i.eq(a.time).find("span[title],time[title]").attr("title")||i.eq(a.time).text()||"";u&&(u+=":00");let d={title:o.text(),link:h,url:c,size:i.eq(a.size).html()||0,time:u,author:-1==a.author?"":i.eq(a.author).text()||"",seeders:-1==a.seeders?"":i.eq(a.seeders).text()||0,leechers:-1==a.leechers?"":i.eq(a.leechers).text()||0,completed:-1==a.completed?"":i.eq(a.completed).text()||0,comments:-1==a.comments?"":i.eq(a.comments).text()||0,site:t,entryName:e.entry.name,category:this.getCategory(i.find("a[href*='filter_cat']"))};r.push(d)}0==r.length&&(e.status=ESearchResultParseStatus.noTorrents)}catch(t){console.error(t),e.status=ESearchResultParseStatus.parseError,e.errorMsg=t.stack}return r}getCategory(t){if(0==t.length)return null;let r={name:"",link:""};r.link=t.attr("href");let s=r.link.match(/filter_cat\[(\d+)\]/)[1];return"http"!==r.link.substr(0,4)&&(r.link=e.site.url+r.link),r.name=t.text().trim(),r.name||(r.name=this.getCategoryName(s)),r}getCategoryName(t){return $.isEmptyObject(this.categories)&&e.page.find(".cat_list:first").find("td").each(((e,t)=>{let r=$(t).find("input").attr("id").replace("cat_",""),s=$(t).find("label").text();r&&(this.categories[r]=s)})),this.categories?this.categories[t]:""}}(e);e.results=t.getResult(),console.log(e.results)}(options);