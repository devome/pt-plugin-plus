!function(t){console.log("this is torrent.js");class e extends window.TNodeCommon{init(){this.initButtons(),this.initFreeSpaceButton(),PTService.pageApp=this}initButtons(){this.initListButtons()}getDownloadURLs(){let e=PTService.filters.parseURL(location.href),i=(PTService.getSiteFromHost(e.host),PTService.getFieldValue("downloadURLs"));if(!i){let e=t("a[href*='/api/torrent/download/']").toArray();if(0===e.length)return this.t("getDownloadURLsFailed");i=t.map(e,(e=>t(e).attr("href")))}return i&&(i=i.map((t=>this.getFullURL(t)))),i}confirmWhenExceedSize(){return this.confirmSize(t(".torrents").find("td:contains('MB'),td:contains('GB'),td:contains('TB'),td:contains('MiB'),td:contains('GiB'),td:contains('TiB')"))}getDroperURL(t){let e=PTService.site.url;if("/"!=e.substr(-1)&&(e+="/"),!t.getQueryString)return PTService.showNotice({msg:"系统依赖函数（getQueryString）未正确加载，请尝试刷新页面或重新启用插件。"}),null;if(-1===t.indexOf("download.php")){let i=t.getQueryString("id");t=i?e+"download.php?id="+i+(PTService.site.passkey?"&passkey="+PTService.site.passkey:"")+(PTService.site.disableHttps?"":"&https=1"):""}return t}}(new e).init()}(jQuery);