!function(e,t){let r=new class{constructor(){this.haveData=!1,/\/logout/.test(e.responseText)?(e.isLogged=!0,this.haveData=!0,this.site=e.site):e.status=ESearchResultParseStatus.needLogin}getResult(){if(!this.haveData)return[];let r=e.site;r.searchEntryConfig=e.entry;let a=e.resultSelector||"table.data-table",s=e.page.find(a),l=s.find("> tbody > tr");if(0==l.length)return e.status=ESearchResultParseStatus.torrentTableIsEmpty,[];let i=[],n=s.find("> thead > tr > th"),o=0;0==n.length&&(o=1,n=l.eq(0).find("th,td"));let c={time:-1,size:-1,seeders:-1,leechers:-1,completed:-1,comments:-1,category:0};r.url.lastIndexOf("/")!=r.url.length-1&&(r.url+="/");for(let e=0;e<n.length;e++){let t=n.eq(e);t.text(),t.html().match("created_at")||t.attr("class").endsWith("age-header")?c.time=e:t.attr("class").indexOf("torrent-listings-size")>-1||t.attr("class").endsWith("size-header")||t.find("i.fa-database").length?c.size=e:t.find("i.fa-arrow-alt-circle-up").length?c.seeders=e:t.find("i.fa-arrow-alt-circle-down").length?c.leechers=e:t.find("i.fa-check-circle").length&&(c.completed=e)}try{for(let a=o;a<l.length;a++){const s=l.eq(a);let n=s.find(">td"),o=s.find("a.view-torrent, a.torrent-search--list__name");if(0==o.length)continue;let d=o.attr("href");d&&"http"!==d.substr(0,4)&&(d=`${r.url}${d}`);let h="",g=s.find("a[href*='/download/']");if(0==g.length?(g=s.find("a[href*='/download_check/']"),g.length>0&&(h=g.attr("href").replace("/download_check/","/download/"))):h=g.attr("href"),0==h.length)continue;h&&"http"!==h.substr(0,4)&&(h=`${r.url}${h}`);let u=s.find("div#imdb_id");u.length>0?(u=u.text().replace(/\D/g,""),u.length<7&&(u=u.padStart(7,"0")),u="tt"+u):u=null;let m={title:o.text().trim(),subTitle:this.getSubTitle(o,s).trim(),link:d,url:h,size:n.eq(c.size).text().trim()||0,time:-1==c.time?"":n.eq(c.time).find("span[title]").attr("title")||n.eq(c.time).text().replace("秒前"," seconds ago").replace("秒前"," seconds ago").replace("分钟前"," minutes ago").replace("分鐘前"," minutes ago").replace("天前"," day ago").replace("小時前"," hours ago").replace("小时前"," hours ago").replace("周前"," weeks ago").replace("个月前"," months ago").replace("年前"," years ago")||"",author:"",seeders:-1==c.seeders?"":n.eq(c.seeders).text().trim()||0,leechers:-1==c.leechers?"":n.eq(c.leechers).text().trim()||0,completed:-1==c.completed?"":n.eq(c.completed).text().trim()||0,comments:-1==c.comments?"":n.eq(c.comments).text().trim()||0,site:r,tags:t.getRowTags(r,s),entryName:e.entry.name,category:-1==c.category?null:this.getCategory(n.eq(c.category)),progress:this.getFieldValue(s,n,c,"progress"),status:this.getFieldValue(s,n,c,"status"),imdbId:u};i.push(m)}0==i.length&&(e.status=ESearchResultParseStatus.noTorrents)}catch(t){console.log(t),e.status=ESearchResultParseStatus.parseError,e.errorMsg=t.stack}return i}getSubTitle(e,r){return t.getFieldValue(this.site,r,"subTitle")||""}getCategory(e){let t={name:e.find("i:first").attr("data-original-title"),link:e.find("a:first").attr("href")};return t.name&&(t.name=t.name.replace(" torrent","")),t}getFieldValue(e,r,a,s,l){let i=e,n=null;r&&a&&void 0!==a[s]&&-1!==a[s]&&(n=r.eq(a[s]),i=n||e);let o=t.getFieldValue(site,i,s);if(!o&&n){if(l)return n;o=n.text().trim()}return""==o?null:o}}(e);e.results=r.getResult(),console.log(e.results)}(options,options.searcher);