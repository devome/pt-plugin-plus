!function(t){console.log("this is torrent.js");class e extends window.NexusPHPCommon{init(){this.initButtons(),this.initFreeSpaceButton(),PTService.pageApp=this}initButtons(){this.initListButtons(),PTService.addButton({title:PTService.i18n.t("buttons.coverTip"),icon:"photo",label:PTService.i18n.t("buttons.cover"),click:(e,i)=>{let n=t("table.mainblockcontenttt a[href*='details.php?id='][onmouseover]"),o=[];n.each(((e,i)=>{let n=t(i).attr("onmouseover").match(/(.+)(img src=\\\')([^\']+)\\\'/);if(n&&n.length>3){let e=location.origin+"/"+n[3],r=t(i).attr("href"),s=t(i).text();o.push({url:e,key:r,title:s,link:r})}})),e(),o.length>0&&(new album({images:o,onClose:()=>{PTService.buttonBar.show()}}),PTService.buttonBar.hide())}})}getDownloadURLs(){let e=t("table.mainblockcontenttt:first").find("a[href*='download.php']").toArray(),i=PTService.site.url;return"/"!=i.substr(-1)&&(i+="/"),0==e.length?this.t("getDownloadURLsFailed"):t.map(e,(e=>{let n=t(e).attr("href");return n&&"http"!=n.substr(0,4)&&(n=i+n),n}))}confirmWhenExceedSize(){return this.confirmSize(t("table.mainblockcontenttt:first").find("td:contains('MiB'),td:contains('GiB'),td:contains('TiB')"))}}(new e).init()}(jQuery);