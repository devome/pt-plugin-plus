!function(t,e){let s=t.site.activeURL+t.rule.page;s=s.replace("$user.id$",t.userInfo.id).replace("$user.name$",t.userInfo.name).replace("://","****").replace(/\/\//g,"/").replace("****","://"),new class{constructor(t,e){this.options=t,this.dataURL=e,this.body=null,this.rawData="",this.pageInfo={count:0,current:1},this.result={seedingList:[]},this.load()}done(){this.options.resolve(this.result)}parse(){const t=(new DOMParser).parseFromString(this.rawData,"text/html");this.body=$(t).find("body"),this.getPageInfo();let s=new e.InfoParser(e.service).getResult(this.body,this.options.rule);s&&(this.result.seedingList=this.result.seedingList.concat(s.seedingList)),this.pageInfo.current<this.pageInfo.count?(this.pageInfo.current++,this.load()):this.done()}getPageInfo(){if(this.pageInfo.count>0)return;const t=this.body.find("a[href*='torrents.php?page=']:contains('Last'):last").attr("href");this.pageInfo.count=t?parseInt(t.getQueryString("page")):2}load(){let t=this.dataURL;this.pageInfo.current>1&&(t+="&page="+this.pageInfo.current),$.get(t).done((t=>{this.rawData=t,this.parse()})).fail((()=>{this.done()}))}}(t,s)}(_options,_self);