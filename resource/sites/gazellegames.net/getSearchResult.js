"".getQueryString||(String.prototype.getQueryString=function(t,e){null==e&&(e="&");var r,s=new RegExp("(^|"+e+"|\\?)"+t+"=([^"+e+"]*)("+e+"|$)");return(r=this.match(s))?decodeURI(r[2]):null}),function(t,e){let r=new class{constructor(){this.haveData=!1,/auth_form/.test(t.responseText)?t.status=ESearchResultParseStatus.needLogin:(t.isLogged=!0,/没有种子|Your search did not match anything|用准确的关键字重试/.test(t.responseText)?t.status=ESearchResultParseStatus.noTorrents:this.haveData=!0)}getResult(){let r=t.site,s=[],n=t.page.find(t.resultSelector||"table.torrent_table:first > tbody > tr");if(0==n.length)return t.status=ESearchResultParseStatus.torrentTableIsEmpty,s;let a,l={},i={},o=t.page.find("tr.torrent, tr.group");for(let t=0;t<o.length;t++){let e=o.eq(t),r=e.find("td.center.cats_col").first(),s=e.find("a[title='View Torrent'][href ^='torrents.php?id=']").first();a=s.attr("href").getQueryString("id"),l[a]=s.parent().text().replace(/[\r\n]/g,"").replace(/Bookmark.*/g,"").trim(),l[a]&&!new RegExp("\t[DL\t| RP]\t").test(l[a])||(l[a]=s.parent().text().replace(/[\r\n]/g,"").replace(/\t+/g,"\t").replace("\t[DL\t| RP]\t","").split("\t")[0]),i[a]=r.find("div").first().attr("class").split(" ")[0].replace("cats_","")}r.url.lastIndexOf("/")!=r.url.length-1&&(r.url+="/");try{for(let l=1;l<n.length;l++){const o=n.eq(l);let u=o.find(">td"),g=o.find("a[href*='torrents.php?id=']").first();if(0==g.length)continue;let c=o.find("div.torrent_info").first(),h=o.find("a[href*='torrents.php?action=download']").first();if(0==h.length)continue;h=h.attr("href"),h.getQueryString("id");let p=g.attr("href");p&&"http"!==p.substr(0,4)&&(p=`${r.url}${p}`),"http"!==h.substr(0,4)&&(h=`${r.url}${h}`);let f="";a=g.attr("href").getQueryString("id"),f=u.eq(1).find("span[title],time[title]").attr("title")||u.eq(1).text()||"",f&&(f+=":00");let d={title:g.text(),subTitle:c.text(),link:p,url:h,size:u.eq(3).html()||0,time:f,author:u.eq(2).text()||"",seeders:u.eq(5).text()||0,leechers:u.eq(6).text()||0,completed:u.eq(4).text()||0,comments:"",site:r,entryName:t.entry.name,tags:this.getTags(o,t.torrentTagSelectors),category:i[a],status:e.getFieldValue(r,u,"status"),progress:e.getFieldValue(r,u,"progress")};s.push(d)}0==s.length&&(t.status=ESearchResultParseStatus.noTorrents)}catch(e){console.error(e),t.status=ESearchResultParseStatus.parseError,t.errorMsg=e.stack}return s}getTags(t,e){let r=[];return e&&e.length>0&&e.forEach((e=>{e.selector&&t.find(e.selector).length&&r.push({name:e.name,color:e.color})})),r}}(t);t.results=r.getResult(),console.log(t.results)}(options,options.searcher);