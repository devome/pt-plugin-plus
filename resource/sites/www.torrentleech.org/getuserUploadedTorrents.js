!function(e,t){let a=e.site.activeURL+e.rule.page;a=a.replace("$user.id$",e.userInfo.id).replace("$user.name$",e.userInfo.name).replace("://","****").replace(/\/\//g,"/").replace("****","://"),new class{constructor(e,t){this.options=e,this.dataURL=t,this.body=null,this.rawData="",this.pageInfo={count:0,current:0,size:100},this.result={uploads:0,uploadsSize:0},this.load()}done(){this.options.resolve(this.result)}parse(){this.getPageInfo();let e=this.rawData.aaData,t={uploads:0,uploadsSize:0};e&&e.forEach((e=>{t.uploads++,t.uploadsSize+=e[1].replace('<span class="torrent_name2">',"").replace("</span>","").sizeToNumber()})),this.result.uploads+=t.uploads,this.result.uploadsSize+=t.uploadsSize,this.pageInfo.current++,this.pageInfo.current<this.pageInfo.count?this.load():this.done()}getPageInfo(){this.pageInfo.count>0||(this.pageInfo.count=Math.ceil(this.rawData.iTotalRecords/this.pageInfo.size))}load(){let e=this.dataURL,t=this.options.rule.requestData;t.iDisplayLength=this.pageInfo.size,t.sEcho++,t.iDisplayStart=this.pageInfo.current*t.iDisplayLength,$.ajax({url:e,method:"POST",dataType:"JSON",data:t,headers:{"x-requested-with":"XMLHttpRequest"}}).done((e=>{this.rawData=e,this.rawData.iTotalRecords?this.parse():this.done()})).fail((()=>{this.done()}))}}(e,a)}(_options,_self);