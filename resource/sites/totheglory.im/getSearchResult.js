!function(t,e){let s=new class{constructor(){this.haveData=!1,/takelogin\.php/.test(t.responseText)?t.status=ESearchResultParseStatus.needLogin:(t.isLogged=!0,/没有种子|No [Tt]orrents?|Your search did not match anything|用准确的关键字重试/.test(t.responseText)?t.status=ESearchResultParseStatus.noTorrents:this.haveData=!0)}getResult(){if(!this.haveData)return[];let s=[],r=t.site,l=t.page.find(t.resultSelector||"table#torrent_table:last > tbody > tr"),a=/(\d{4}-\d{2}-\d{2}[^\d]+?\d{2}:\d{2}:\d{2})/,n=/-(\d{2})[^\d]+?(\d{2}):/;"/"==r.url.substr(-1)&&(r.url=r.url.substr(0,r.url.length-1));for(let i=1;i<l.length;i++){const h=l.eq(i);let u=h.find(">td"),o=h.find("div.name_left > a");if(0==o.length)continue;o.find("span.__cf_email__")&&o.find("span.__cf_email__").each((function(){$(this).replaceWith(e.cfDecodeEmail($(this).data("cfemail")))}));let d=o.html().split("<br>"),c=o.attr("href");c&&"http"!==c.substr(0,4)&&(c=`${r.url}${c}`);let f=c.split("/"),g=f[f.length-2],p="";if(r.passkey&&g){let t=(new Base64).encode("vvv"+g+"|||"+r.passkey+"zz");p=`https://${r.host}/rssdd.php?par=${t}&ssl=yes`}else p=h.find("a.dl_a").attr("href"),p&&"http"!==p.substr(0,4)&&(p=`${r.url}${p}`);if(!p)continue;let m="";d.length>0&&(m=$("<span>").html(d[1]).text());let b={title:$("<span>").html(d[0]).text(),subTitle:m||"",link:c,url:p,size:u.eq(6).html()||0,time:u.eq(4).html().match(a)[1].replace(n,"-$1 $2:")||u.eq(4).text(),author:u.eq(9).text()||"",seeders:u.eq(8).text().split("/")[0]||0,leechers:u.eq(8).text().split("/")[1]||0,completed:u.eq(7).text()||0,comments:u.eq(3).text()||0,site:r,entryName:t.entry.name,category:this.getCategory(u.eq(0)),tags:t.searcher.getRowTags(r,h),progress:t.searcher.getFieldValue(r,h,"progress"),status:t.searcher.getFieldValue(r,h,"status"),imdbId:this.getIMDbId(h)};s.push(b)}return 0==s.length&&(t.status=ESearchResultParseStatus.noTorrents),s}getIMDbId(t){try{let e=t.find("a[href*='imdb.com/title/tt']").first().attr("href");if(e){let t=e.match(/(tt\d+)/);if(t)return t[0]}}catch(t){return console.log(t),null}return null}getCategory(e){let s={name:"",link:""},r=e.find("a:first"),l=r.find("img:first");return s.link=r.attr("href"),"http"!==s.link.substr(0,4)&&(s.link=t.site.url+s.link),s.name=l.attr("alt"),s}}(t);t.results=s.getResult(),console.log(t.results)}(options,options.searcher);