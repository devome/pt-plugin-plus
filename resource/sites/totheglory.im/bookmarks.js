!function(t){console.log("this is bookmarks.js");class e extends window.NexusPHPCommon{init(){this.initButtons(),this.initFreeSpaceButton(),PTService.pageApp=this}initButtons(){this.initListButtons(!0)}getDownloadURLs(){let e=t("a.dl_a").toArray(),i=PTService.site.url;return"/"!=i.substr(-1)&&(i+="/"),0==e.length?this.t("getDownloadURLsFailed"):t.map(e,(e=>{let n=t(e).attr("href");return n&&"http"!=n.substr(0,4)&&(n=i+n),n}))}call(t,e){return new Promise(((i,n)=>{t===PTService.action.downloadFromDroper&&this.downloadFromDroper(e,(()=>{i()}))}))}downloadFromDroper(t,e){if("string"==typeof t&&(t={url:t,title:""}),console.log(t),!t.url)return PTService.showNotice({msg:this.t("invalidURL")}),void e();"/"===t.url.substr(0,1)?t.url=`${location.origin}${t.url}`:"http"!==t.url.substr(0,4)&&(t.url=`${location.origin}/${t.url}`),this.sendTorrentToDefaultClient(result).then((t=>{e(t)})).catch((t=>{e(t)}))}confirmWhenExceedSize(){return this.confirmSize(t("#torrent_table").find("td[align='center']:contains('MB'),td[align='center']:contains('GB'),td[align='center']:contains('TB')"))}}(new e).init()}(jQuery);