!function(e,t){let r=new class{constructor(){this.haveData=!1,/\/login/.test(e.responseText)?e.status=ESearchResultParseStatus.needLogin:(e.isLogged=!0,this.haveData=!0)}getResult(){if(!this.haveData)return[];let r=e.site;r.searchEntryConfig=e.entry;let a=e.resultSelector||"div.table-responsive > table:first",l=e.page.find(a),s=l.find("> tbody > tr");if(0==s.length)return e.status=ESearchResultParseStatus.torrentTableIsEmpty,[];let o=[],n=l.find("> thead > tr > th"),h=0;0==n.length&&(h=1,n=s.eq(0).find("th,td"));let i={time:-1,size:-1,seeders:-1,leechers:-1,completed:-1,comments:-1,author:n.length-1,category:1};r.url.lastIndexOf("/")!=r.url.length-1&&(r.url+="/");for(let e=0;e<n.length;e++){let t=n.eq(e);t.text(),t.find("a[href*='comments']").length?(i.comments=e,i.author=e==i.author?-1:i.author):t.find("a[href*='created_at']").length||t.find("i.fa-clock").length?(i.time=e,i.author=e==i.author?-1:i.author):t.find("a[href*='size']").length||t.find("i.fa-file").length?(i.size=e,i.author=e==i.author?-1:i.author):t.find("a[href*='seed']").length||t.find("i.fa-arrow-circle-up").length?(i.seeders=e,i.author=e==i.author?-1:i.author):t.find("a[href*='leech']").length||t.find("i.fa-arrow-circle-down").length?(i.leechers=e,i.author=e==i.author?-1:i.author):t.find("a[href*='complete']").length||t.find("i.fa-check-square").length?(i.completed=e,i.author=e==i.author?-1:i.author):t.is(".torrents-icon")&&(i.category=e,i.author=e==i.author?-1:i.author)}try{for(let a=h;a<s.length;a++){const l=s.eq(a);let n=l.find(">td"),h=l.find("a.view-torrent");if(0==h.length)continue;let u=h.attr("href");u&&"http"!==u.substr(0,4)&&(u=`${r.url}${u}`);let c="",g=l.find("a[href*='/download/']");if(0==g.length?(g=l.find("a[href*='/download_check/']"),g.length>0&&(c=g.attr("href").replace("/download_check/","/download/"))):c=g.attr("href"),0==c.length)continue;c&&"http"!==c.substr(0,4)&&(c=`${r.url}${c}`);let d={title:h.text(),subTitle:this.getSubTitle(h,l),link:u,url:c,size:n.eq(i.size).text().trim()||0,time:-1==i.time?"":n.eq(i.time).find("span[title]").attr("title")||n.eq(i.time).text().replace("秒前"," seconds ago").replace("秒前"," seconds ago").replace("分钟前"," minutes ago").replace("分鐘前"," minutes ago").replace("天前"," day ago").replace("小時前"," hours ago").replace("小时前"," hours ago").replace("周前"," weeks ago").replace("个月前"," months ago").replace("年前"," years ago").replace("年"," years ago")||"",author:-1==i.author?"":n.eq(i.author).text()||"",seeders:-1==i.seeders?"":n.eq(i.seeders).text()||0,leechers:-1==i.leechers?"":n.eq(i.leechers).text()||0,completed:-1==i.completed?"":n.eq(i.completed).text()||0,comments:-1==i.comments?"":n.eq(i.comments).text()||0,site:r,tags:t.getRowTags(r,l),entryName:e.entry.name,category:-1==i.category?null:this.getCategory(n.eq(i.category)),progress:this.getFieldValue(l,n,i,"progress"),status:this.getFieldValue(l,n,i,"status")};o.push(d)}0==o.length&&(e.status=ESearchResultParseStatus.noTorrents)}catch(t){console.log(t),e.status=ESearchResultParseStatus.parseError,e.errorMsg=t.stack}return o}getTags(e,t){let r=[];return t&&t.length>0&&t.forEach((t=>{t.selector&&e.find(t.selector).length&&r.push({name:t.name,color:t.color})})),r}getSubTitle(e,t){return""}getCategory(e){let t={name:e.find("i:first").attr("data-original-title"),link:e.find("a:first").attr("href")};return t.name&&(t.name=t.name.replace(" torrent","")),t}getFieldValue(e,r,a,l,s){let o=e,n=null;r&&a&&void 0!==a[l]&&-1!==a[l]&&(n=r.eq(a[l]),o=n||e);let h=t.getFieldValue(site,o,l);if(!h&&n){if(s)return n;h=n.text()}return h}}(e);e.results=r.getResult(),console.log(e.results)}(options,options.searcher);