import{P as c,V as m,c as u,d as v,A as d,E as h,e as p,b as y,n as x}from"./index-CFTjSAoW.js";class g{constructor(){this.doubanApiURL="https://api.douban.com/v2",this.doubanFrodoApi="https://frodo.douban.com/api/v2",this.douban={frodo:{apiKeys:["054022eaeae0b00e0fc068c0c0a2102a"],entApiKeys:["054022eaeae0b00e0fc068c0c0a2102a"],methods:{movie:{search:`${this.doubanFrodoApi}/search?q=$key$&count=$count$&apiKey=$apikey$`,imdb:"https://omit.mkrobot.org/movie/infos/$imdbid$",subject:"https://omit.mkrobot.org/movie/infos/douban$id$"}}},common:{apiKeys:["02646d3fb69a52ff072d47bf23cef8fd","0b2bdeda43b5688921839c8ecb20399b","0dad551ec0f84ed02907ff5c42e8ec70","0df993c66c0c636e29ecbb5344252a4a"],entApiKeys:["0dad551ec0f84ed02907ff5c42e8ec70","02646d3fb69a52ff072d47bf23cef8fd"],methods:{movie:{search:`${this.doubanApiURL}/movie/search?q=$key$&count=$count$&apikey=$apikey$`,imdb:`${this.doubanApiURL}/movie/imdb/$imdbid$?apikey=$apikey$`,subject:`${this.doubanApiURL}/movie/subject/$id$?apikey=$apikey$`}}}},this.omdbApiURL="https://www.omdbapi.com",this.omitApiURL="https://omit.mkrobot.org",this.omdbApiKeys=["e0d3039d","a67d9bce","6be019fc","4ee790e0","d82cb888","d58193b6","15c0aa3f","53acf36d","3a864b75","2892ab46","b507af90","7cf67120","85b2a90c","2896ff0a","aa4b9983","c4e08870","5d5c0049","79a462f2","e4c3fce8","918d70df","e94cb667","eb84d6d7","e192b5a","d62b4cf5","5e6442a3","9b1468c6"],this.doubanApiKeys=["02646d3fb69a52ff072d47bf23cef8fd","0b2bdeda43b5688921839c8ecb20399b","0dad551ec0f84ed02907ff5c42e8ec70","0df993c66c0c636e29ecbb5344252a4a"],this.doubanEntApiKeys=["0dad551ec0f84ed02907ff5c42e8ec70","02646d3fb69a52ff072d47bf23cef8fd"],this.omitApiKeys=["kiqMY6MC"],this.cache={base:{},ratings:{},doubanToIMDb:{},search:{}},this.timeout=3e3,this.doubanApi=this.douban.frodo,this.requsetQueue={}}getInfos(e){return/(douban\d+)/.test(e)?this.getInfoFromDoubanId(e.replace("douban","")):/^(tt\d+)$/.test(e)?this.getInfoFromIMDb(e):new Promise((t,s)=>{s("暂未实现")})}isIMDbId(e){return/^(tt\d+)$/.test(e)}getInfoFromIMDb(e){return new Promise((t,s)=>{if(this.isIMDbId(e)){let a=this.cache.base[e];if(a){t(a);return}let o=c.replaceKeys(this.doubanApi.methods.movie.imdb,{imdbid:e,apikey:this.getDoubanApiKey()});$.ajax({url:o,timeout:this.timeout}).done(i=>{let r;i&&(r=i.data||i),this.cache.base[e]=r,t(r)}).fail(i=>{s(i)})}else s("error IMDbId")})}getInfoFromDoubanId(e){return new Promise((t,s)=>{if(/^(\d+)$/.test(e)){let a=this.cache.base[e];if(a){t(a);return}let o=c.replaceKeys(this.doubanApi.methods.movie.subject,{id:e,apikey:this.getDoubanApiKey()});$.ajax({url:o,timeout:this.timeout}).done(i=>{let r;i&&(r=i.data||i),this.cache.base[e]=r,t(r)}).fail(i=>{s(i)})}else s("error douban id")})}getRatings(e){return new Promise((t,s)=>{if(this.isIMDbId(e)){let a=this.cache.ratings[e];if(a){t(a);return}let o=0;const i=()=>{let r=this.getOmdbApiKey(),b=`${this.omdbApiURL}/?i=${e}&apikey=${r}&tomatoes=true`;$.ajax({url:b,timeout:this.timeout}).done(l=>{if(l&&l.Error){if(o++,o>=5){s(l);return}this.removeApiKey("omdb",r),i();return}this.cache.ratings[e]=l,t(l)}).fail(l=>{s(l)})};i()}else s("error IMDbId")})}getOmdbApiKey(){return this.omdbApiKeys[Math.floor(Math.random()*this.omdbApiKeys.length)]}getDoubanApiKey(){return this.doubanApi.apiKeys[Math.floor(Math.random()*this.doubanApi.apiKeys.length)]}getDoubanEntApiKey(){return this.doubanApi.entApiKeys[Math.floor(Math.random()*this.doubanApi.entApiKeys.length)]}getIMDbIdFromDouban(e){return new Promise((t,s)=>{let a=this.cache.doubanToIMDb[e];if(a){t(a);return}let o=`${this.omitApiURL}/movie/${e}/douban/imdb`;if(this.requsetQueue[o]){s();return}this.requsetQueue[o]=!0,$.ajax({url:o,timeout:this.timeout}).done(i=>{console.log("getIMDbIdFromDouban",i),i.data?(this.cache.doubanToIMDb[e]=i.data,t(i.data)):s(i)}).fail(i=>{s(i)}).always(()=>{delete this.requsetQueue[o]})})}queryMovieInfoFromDouban(e,t=5){return this.isIMDbId(e)?this.getInfoFromIMDb(e):new Promise((s,a)=>{let o=this.cache.search[e];if(o){s(o);return}let i=`${this.omitApiURL}/movie/search/${e}`;if(this.requsetQueue[i]){a();return}this.requsetQueue[i]=!0,$.ajax({url:i,timeout:this.timeout}).done(r=>{console.log("queryMovieInfoFromDouban",r),r.data?(this.cache.search[e]=r.data,s(r.data)):a(r)}).fail(r=>{a(r)}).always(()=>{delete this.requsetQueue[i]})})}appendApiKey(e="",t){let s;switch(e){case"omdb":s=this.omdbApiKeys;break;case"douban":s=this.doubanApiKeys;break}t.forEach(a=>{a&&!s.includes(a)&&s.push(a)})}removeApiKey(e="",t){let s=[];switch(e){case"omdb":s=this.omdbApiKeys;break;case"douban":s=this.doubanApiKeys;break}let a=s.findIndex(o=>{if(o===t)return!0});a!==-1&&s.splice(a,1)}verifyOmdbApiKey(e){return new Promise((t,s)=>{let a=`${this.omdbApiURL}/?i=tt0111161&apikey=${e}&tomatoes=true`;$.ajax({url:a,timeout:this.timeout}).done(o=>{if(o&&o.Error){s(o.Error);return}t()}).fail(o=>{s(o)})})}verifyDoubanApiKey(e){return new Promise((t,s)=>{let a=`${this.doubanApiURL}/movie/imdb/tt0111161?apikey=${e}`;$.ajax({url:a,timeout:this.timeout}).done(o=>{o&&o.title?t():s(o.Error)}).fail(o=>{s(o)})})}getTopSearches(e=9){return new Promise((t,s)=>{$.ajax({url:`${this.omitApiURL}/movie/top/${e}?apikey=${this.omitApiKeys[0]}`,timeout:this.timeout}).then(a=>{a&&a.data?t(a.data):s()}).catch(a=>{s(a)})})}}const f=new y,S=m.extend({data(){return{valid:!1,rules:{require:[n=>!!n||"!"]},options:{defaultClientId:"",search:{saveKey:!0},needConfirmWhenExceedSize:!1,autoRefreshUserData:!1,autoRefreshUserDataHours:"00",autoRefreshUserDataMinutes:"00",autoRefreshUserDataFailedRetryCount:3,autoRefreshUserDataFailedRetryInterval:5,connectClientTimeout:1e4,beforeSearchingOptions:{getMovieInformation:!0,maxMovieInformationCount:5,searchModeForItem:u.id},showToolbarOnContentPage:!0,downloadFailedRetry:!1,downloadFailedFailedRetryCount:3,downloadFailedFailedRetryInterval:5,apiKey:{},batchDownloadInterval:0,enableBackgroundDownload:!1,position:"right",allowBackupCookies:!1,encryptBackupData:!1,encryptMode:v.AES,encryptSecretKey:"",allowSaveSnapshot:!0},units:[],hours:[],minutes:[],haveError:!1,haveSuccess:!1,successMsg:"",errorMsg:"",lastUpdate:"",autoRefreshUserDataLastUpdate:"",activeTab:"base",apiKey:{omdb:"",douban:""},apiKeyVerifyResults:{omdb:[],douban:[]},apiKeyVerifying:!1,showVerifyingStatus:!1,showEncryptSecretKey:!1}},methods:{save(){console.log(this.options),this.successMsg="",this.$refs.form.validate()||(this.activeTab="base",this.$refs.defaultClient.focus()),this.options.apiKey||(this.options.apiKey={});let n=[],e=[];if(this.apiKey.omdb&&this.apiKey.omdb.split(`
`).forEach(s=>{/^[a-z0-9]{7,8}$/.test(s)&&n.push(s)}),this.apiKey.douban&&this.apiKey.douban.split(`
`).forEach(s=>{/^[a-z0-9]{32}$/.test(s)&&e.push(s)}),this.options.apiKey.omdb=n,this.options.apiKey.douban=e,this.options.allowBackupCookies){c.usePermissions(["cookies"],!0,this.$t("permissions.request.cookies").toString()).then(()=>{this.$store.dispatch("saveConfig",this.options),this.successMsg=this.$t("settings.base.saved").toString()}).catch(()=>{this.options.allowBackupCookies=!1,this.$store.dispatch("saveConfig",this.options),this.successMsg=this.$t("settings.base.saved").toString()});return}this.$store.dispatch("saveConfig",this.options),this.successMsg=this.$t("settings.base.saved").toString()},clearCache(){confirm(this.$t("settings.base.clearCacheConfirm").toString())&&(d.cache.clear(),setTimeout(()=>{f.sendRequest(h.reloadConfig).then(()=>{this.successMsg=this.$t("settings.base.cacheIsCleared").toString()}).catch()},200))},verifyApiKey(){let n=this.apiKey.omdb.split(`
`),e=this.apiKey.douban.split(`
`),t=n.length+e.length;if(t==0)return;let s=new g;this.apiKeyVerifyResults={omdb:[],douban:[]},this.apiKeyVerifying=!0,this.showVerifyingStatus=!0;let a=0;n.forEach(o=>{/^[a-z0-9]{7,8}$/.test(o)?s.verifyOmdbApiKey(o).then(()=>{this.apiKeyVerifyResults.omdb.push(`「${o}」 ok.`)}).catch(i=>{this.apiKeyVerifyResults.omdb.push(`<span style='color:red'>「${o}」 error. (${i})</span>`)}).finally(()=>{a++,a===t&&(this.apiKeyVerifying=!1,window.setTimeout(()=>{this.showVerifyingStatus=!1},6e4))}):a++}),e.forEach(o=>{/^[a-z0-9]{32}$/.test(o)?s.verifyDoubanApiKey(o).then(()=>{this.apiKeyVerifyResults.douban.push(`「${o}」 ok.`)}).catch(i=>{this.apiKeyVerifyResults.douban.push(`<span style='color:red'>「${o}」 error.</span>`)}).finally(()=>{a++,a===t&&(this.apiKeyVerifying=!1,window.setTimeout(()=>{this.showVerifyingStatus=!1},6e4))}):a++}),a===t&&(this.apiKeyVerifying=!1,this.showVerifyingStatus=!1)},createSecretKey(){this.options.encryptSecretKey=c.getRandomString()},copySecretKeyToClipboard(){this.successMsg="",f.sendRequest(h.copyTextToClipboard,null,this.options.encryptSecretKey).then(n=>{this.successMsg=this.$t("common.copyed").toString()}).catch(()=>{})},checkOptionalPermission(n){return c.checkOptionalPermission(n)}},created(){this.options=Object.assign(this.options,this.$store.state.options),this.units.push(p.MiB),this.units.push(p.GiB),this.units.push(p.TiB),this.units.push(p.PiB);for(let n=0;n<24;n++)this.hours.push(`0${n}`.substr(-2));for(let n=0;n<60;n+=5)this.minutes.push(`0${n}`.substr(-2));this.options.apiKey&&(this.options.apiKey.omdb&&this.options.apiKey.omdb.length>0&&(this.apiKey.omdb=this.options.apiKey.omdb.join(`
`)),this.options.apiKey.douban&&this.options.apiKey.douban.length>0&&(this.apiKey.douban=this.options.apiKey.douban.join(`
`))),d.cache.getLastUpdateTime().then(n=>{n>0?this.lastUpdate=this.$t("settings.base.lastUpdate",{time:new Date(n).toLocaleString()}).toString():this.lastUpdate=this.$t("settings.base.lastUpdateUnknown").toString()}).catch(()=>{this.lastUpdate=this.$t("settings.base.lastUpdateFailed").toString()}),this.options.autoRefreshUserDataLastTime&&(this.autoRefreshUserDataLastUpdate=this.$t("settings.base.autoRefreshUserDataLastUpdate",{time:new Date(this.options.autoRefreshUserDataLastTime).toLocaleString()}).toString())},watch:{successMsg:{handler(){this.haveSuccess=this.successMsg!=""},deep:!0},errorMsg(){this.haveError=this.errorMsg!=""}},computed:{getBackupServers(){return[].concat(this.$store.state.options.backupServers).map(n=>({text:n.name,value:n.id}))},getClientAddress(){if(!this.options.defaultClientId)return"";let n=this.$store.state.options.clients.find(e=>this.options.defaultClientId===e.id);return n?n.address:""},searchModes(){return[{value:u.id,text:this.$t("settings.base.beforeSearchingItemSearchMode.id").toString()},{value:u.name,text:this.$t("settings.base.beforeSearchingItemSearchMode.name").toString()}]}}});var w=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("v-card",[t("v-card-text",[t("v-form",{ref:"form",model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[t("v-tabs",{attrs:{centered:"",dark:"","icons-and-text":""},model:{value:e.activeTab,callback:function(s){e.activeTab=s},expression:"activeTab"}},[t("v-tabs-slider",{attrs:{color:"yellow"}}),t("v-tab",{key:"base"},[e._v(" "+e._s(e.$t("settings.base.tabs.base"))+" "),t("v-icon",[e._v("settings")])],1),t("v-tab",{key:"search"},[e._v(" "+e._s(e.$t("settings.base.tabs.search"))+" "),t("v-icon",[e._v("search")])],1),t("v-tab",{key:"download"},[e._v(" "+e._s(e.$t("settings.base.tabs.download"))+" "),t("v-icon",[e._v("cloud_download")])],1),t("v-tab",{key:"advanced"},[e._v(" "+e._s(e.$t("settings.base.tabs.advanced"))+" "),t("v-icon",[e._v("memory")])],1),t("v-tab-item",{key:"base"},[t("v-container",{attrs:{fluid:"","grid-list-xs":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs10:""}},[t("v-autocomplete",{ref:"defaultClient",attrs:{items:this.$store.state.options.clients,label:e.$t("settings.base.defaultClient"),"menu-props":{maxHeight:"auto"},hint:e.getClientAddress,"persistent-hint":"","item-text":"name","item-value":"id",required:"",rules:e.rules.require,autofocus:""},scopedSlots:e._u([{key:"selection",fn:function({item:s}){return[t("span",{domProps:{textContent:e._s(s.name)}})]}},{key:"item",fn:function(s){return[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(s.item.name)}}),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s(s.item.address)}})],1),t("v-list-tile-action",[t("v-list-tile-action-text",[e._v(e._s(s.item.type))])],1)]}}]),model:{value:e.options.defaultClientId,callback:function(s){e.$set(e.options,"defaultClientId",s)},expression:"options.defaultClientId"}},[t("template",{slot:"no-data"},[t("span",{staticClass:"ma-2"},[e._v(e._s(e.$t("settings.base.noClient")))])])],2)],1),t("v-flex",{attrs:{xs2:""}}),t("v-flex",{attrs:{xs10:""}},[t("v-text-field",{attrs:{label:e.$t("settings.base.connectClientTimeout"),placeholder:e.$t("settings.base.connectClientTimeout"),type:"number"},model:{value:e.options.connectClientTimeout,callback:function(s){e.$set(e.options,"connectClientTimeout",s)},expression:"options.connectClientTimeout"}})],1),t("v-flex",{attrs:{xs2:""}},[t("v-slider",{staticStyle:{display:"none"},attrs:{max:6e4,min:500,step:1},model:{value:e.options.connectClientTimeout,callback:function(s){e.$set(e.options,"connectClientTimeout",s)},expression:"options.connectClientTimeout"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.autoRefreshUserData")+e.autoRefreshUserDataLastUpdate},model:{value:e.options.autoRefreshUserData,callback:function(s){e.$set(e.options,"autoRefreshUserData",s)},expression:"options.autoRefreshUserData"}}),e.options.autoRefreshUserData?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-40px 0 10px 45px"}},[t("span",[e._v(e._s(e.$t("settings.base.autoRefreshUserDataTip1")))]),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"30px"},attrs:{items:e.hours},model:{value:e.options.autoRefreshUserDataHours,callback:function(s){e.$set(e.options,"autoRefreshUserDataHours",s)},expression:"options.autoRefreshUserDataHours"}}),t("span",[e._v(":")]),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"30px"},attrs:{items:e.minutes},model:{value:e.options.autoRefreshUserDataMinutes,callback:function(s){e.$set(e.options,"autoRefreshUserDataMinutes",s)},expression:"options.autoRefreshUserDataMinutes"}}),t("span",[e._v(e._s(e.$t("settings.base.autoRefreshUserDataTip2")))])],1)]):e._e(),e.options.autoRefreshUserData?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-20px 0 10px 45px"}},[t("span",[e._v(e._s(e.$t("settings.base.autoRefreshUserDataTip3")))]),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"30px"},attrs:{items:[1,2,3,4,5]},model:{value:e.options.autoRefreshUserDataFailedRetryCount,callback:function(s){e.$set(e.options,"autoRefreshUserDataFailedRetryCount",s)},expression:"options.autoRefreshUserDataFailedRetryCount"}}),t("span",[e._v(e._s(e.$t("settings.base.autoRefreshUserDataTip4")))]),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"30px"},attrs:{items:[1,2,3,4,5]},model:{value:e.options.autoRefreshUserDataFailedRetryInterval,callback:function(s){e.$set(e.options,"autoRefreshUserDataFailedRetryInterval",s)},expression:"options.autoRefreshUserDataFailedRetryInterval"}}),t("span",[e._v(e._s(e.$t("settings.base.autoRefreshUserDataTip5")))])],1)]):e._e(),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.autoRefreshByAlarmTip1")},model:{value:e.options.autoRefreshByAlarm,callback:function(s){e.$set(e.options,"autoRefreshByAlarm",s)},expression:"options.autoRefreshByAlarm"}}),t("v-switch",{attrs:{color:"success",disabled:!e.options.autoRefreshUserData,label:e.$t("settings.base.autoBackupDataTip1")},model:{value:e.options.autoBackupData,callback:function(s){e.$set(e.options,"autoBackupData",s)},expression:"options.autoBackupData"}}),e.options.autoRefreshUserData&&e.options.autoBackupData?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-20px 0 10px 45px"}},[t("span",[e._v(e._s(e.$t("settings.base.autoBackupDataTip4")))]),t("v-select",{staticClass:"mx-2 d-inline-flex",attrs:{items:e.getBackupServers},model:{value:e.options.autoBackupDataServerId,callback:function(s){e.$set(e.options,"autoBackupDataServerId",s)},expression:"options.autoBackupDataServerId"}})],1)]):e._e(),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.showToolbarOnContentPage")},model:{value:e.options.showToolbarOnContentPage,callback:function(s){e.$set(e.options,"showToolbarOnContentPage",s)},expression:"options.showToolbarOnContentPage"}}),e.options.showToolbarOnContentPage?t("v-radio-group",{staticClass:"ml-5",attrs:{row:""},model:{value:e.options.position,callback:function(s){e.$set(e.options,"position",s)},expression:"options.position"}},[t("span",{staticClass:"mr-1"},[e._v(e._s(e.$t("settings.base.position.label")))]),t("v-radio",{attrs:{label:e.$t("settings.base.position.left"),color:"success",value:"left"}}),t("v-radio",{attrs:{label:e.$t("settings.base.position.right"),color:"success",value:"right"}})],1):e._e(),e.options.showToolbarOnContentPage?t("v-switch",{staticClass:"ml-5",attrs:{color:"success",label:e.$t("settings.base.allowDropToSend")},model:{value:e.options.allowDropToSend,callback:function(s){e.$set(e.options,"allowDropToSend",s)},expression:"options.allowDropToSend"}}):e._e(),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.searchResultOrderBySitePriority")},model:{value:e.options.searchResultOrderBySitePriority,callback:function(s){e.$set(e.options,"searchResultOrderBySitePriority",s)},expression:"options.searchResultOrderBySitePriority"}}),e.checkOptionalPermission("cookies")?t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.allowBackupCookies")},model:{value:e.options.allowBackupCookies,callback:function(s){e.$set(e.options,"allowBackupCookies",s)},expression:"options.allowBackupCookies"}}):e._e(),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.encryptBackupData")},model:{value:e.options.encryptBackupData,callback:function(s){e.$set(e.options,"encryptBackupData",s)},expression:"options.encryptBackupData"}}),e.options.encryptBackupData?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-20px 0 10px 45px"}},[t("v-text-field",{staticClass:"d-inline-flex",staticStyle:{"min-width":"800px"},attrs:{label:e.$t("settings.base.encryptSecretKey"),placeholder:e.$t("settings.base.encryptTip"),type:e.showEncryptSecretKey?"text":"password"},scopedSlots:e._u([{key:"append",fn:function(){return[t("v-icon",{on:{click:function(s){e.showEncryptSecretKey=!e.showEncryptSecretKey}}},[e._v(e._s(e.showEncryptSecretKey?"visibility_off":"visibility"))]),t("v-btn",{staticStyle:{"min-width":"unset"},attrs:{flat:"",small:"",color:"primary"},on:{click:e.createSecretKey}},[e._v(e._s(e.$t("settings.base.createSecretKey")))]),t("v-btn",{staticStyle:{"min-width":"unset"},attrs:{flat:"",small:"",color:"success"},on:{click:e.copySecretKeyToClipboard}},[e._v(e._s(e.$t("common.copy")))])]},proxy:!0}],null,!1,911864529),model:{value:e.options.encryptSecretKey,callback:function(s){e.$set(e.options,"encryptSecretKey",s)},expression:"options.encryptSecretKey"}}),t("v-alert",{attrs:{value:!0,type:"info"}},[e._v(e._s(e.$t("settings.base.encryptTip")))])],1)]):e._e()],1)],1)],1)],1),t("v-tab-item",{key:"search"},[t("v-container",{attrs:{fluid:"","grid-list-xs":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs6:""}},[t("v-text-field",{attrs:{type:"number",label:e.$t("settings.base.searchResultRows"),placeholder:e.$t("settings.base.searchResultRows")},model:{value:e.options.search.rows,callback:function(s){e.$set(e.options.search,"rows",s)},expression:"options.search.rows"}})],1),t("v-flex",{attrs:{xs6:""}},[t("v-slider",{staticStyle:{display:"none"},attrs:{max:200,min:1},model:{value:e.options.search.rows,callback:function(s){e.$set(e.options.search,"rows",s)},expression:"options.search.rows"}})],1),t("v-flex",{attrs:{xs12:""}},[t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.allowSelectionTextSearch")},model:{value:e.options.allowSelectionTextSearch,callback:function(s){e.$set(e.options,"allowSelectionTextSearch",s)},expression:"options.allowSelectionTextSearch"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.saveSearchKey")},model:{value:e.options.search.saveKey,callback:function(s){e.$set(e.options.search,"saveKey",s)},expression:"options.search.saveKey"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.allowSaveSnapshot")},model:{value:e.options.allowSaveSnapshot,callback:function(s){e.$set(e.options,"allowSaveSnapshot",s)},expression:"options.allowSaveSnapshot"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.showMovieInfoCardOnSearch")},model:{value:e.options.showMovieInfoCardOnSearch,callback:function(s){e.$set(e.options,"showMovieInfoCardOnSearch",s)},expression:"options.showMovieInfoCardOnSearch"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.autoSearchWhenSwitchSolution")},model:{value:e.options.autoSearchWhenSwitchSolution,callback:function(s){e.$set(e.options,"autoSearchWhenSwitchSolution",s)},expression:"options.autoSearchWhenSwitchSolution"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.getMovieInformationBeforeSearching")},model:{value:e.options.beforeSearchingOptions.getMovieInformation,callback:function(s){e.$set(e.options.beforeSearchingOptions,"getMovieInformation",s)},expression:"options.beforeSearchingOptions.getMovieInformation"}}),e.options.beforeSearchingOptions.getMovieInformation?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-40px 0 10px 45px"}},[t("span",[e._v(e._s(e.$t("settings.base.maxMovieInformationCount")))]),t("v-text-field",{staticClass:"ml-2 d-inline-flex",staticStyle:{"max-width":"100px","max-height":"30px"},attrs:{type:"number"},model:{value:e.options.beforeSearchingOptions.maxMovieInformationCount,callback:function(s){e.$set(e.options.beforeSearchingOptions,"maxMovieInformationCount",s)},expression:"options.beforeSearchingOptions.maxMovieInformationCount"}}),t("v-slider",{staticStyle:{display:"none"},attrs:{max:20,min:1},model:{value:e.options.beforeSearchingOptions.maxMovieInformationCount,callback:function(s){e.$set(e.options.beforeSearchingOptions,"maxMovieInformationCount",s)},expression:"options.beforeSearchingOptions.maxMovieInformationCount"}})],1)]):e._e(),e.options.beforeSearchingOptions.getMovieInformation?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-20px 0 10px 45px"}},[t("span",[e._v(e._s(e.$t("settings.base.searchModeForItem")))]),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-height":"30px"},attrs:{items:e.searchModes},model:{value:e.options.beforeSearchingOptions.searchModeForItem,callback:function(s){e.$set(e.options.beforeSearchingOptions,"searchModeForItem",s)},expression:"options.beforeSearchingOptions.searchModeForItem"}})],1)]):e._e()],1)],1)],1)],1),t("v-tab-item",{key:"download"},[t("v-container",{attrs:{fluid:"","grid-list-xs":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{label:e.$t("settings.base.batchDownloadInterval"),placeholder:e.$t("settings.base.batchDownloadInterval"),type:"number"},model:{value:e.options.batchDownloadInterval,callback:function(s){e.$set(e.options,"batchDownloadInterval",s)},expression:"options.batchDownloadInterval"}})],1),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.saveDownloadHistory")},model:{value:e.options.saveDownloadHistory,callback:function(s){e.$set(e.options,"saveDownloadHistory",s)},expression:"options.saveDownloadHistory"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.downloadFailedRetry")},model:{value:e.options.downloadFailedRetry,callback:function(s){e.$set(e.options,"downloadFailedRetry",s)},expression:"options.downloadFailedRetry"}}),e.options.downloadFailedRetry?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-35px 0 10px 45px"}},[t("span",[e._v(e._s(e.$t("settings.base.downloadFailedRetryTip1")))]),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"20px"},attrs:{items:[1,2,3,4,5]},model:{value:e.options.downloadFailedFailedRetryCount,callback:function(s){e.$set(e.options,"downloadFailedFailedRetryCount",s)},expression:"options.downloadFailedFailedRetryCount"}}),t("span",[e._v(e._s(e.$t("settings.base.downloadFailedRetryTip2")))]),t("v-text-field",{staticClass:"ml-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"20px"},attrs:{type:"number"},model:{value:e.options.downloadFailedFailedRetryInterval,callback:function(s){e.$set(e.options,"downloadFailedFailedRetryInterval",s)},expression:"options.downloadFailedFailedRetryInterval"}}),t("span",[e._v(e._s(e.$t("settings.base.downloadFailedRetryTip3")))])],1)]):e._e(),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.enableBackgroundDownload")},model:{value:e.options.enableBackgroundDownload,callback:function(s){e.$set(e.options,"enableBackgroundDownload",s)},expression:"options.enableBackgroundDownload"}}),t("v-switch",{attrs:{color:"success",label:e.$t("settings.base.needConfirmWhenExceedSize")},model:{value:e.options.needConfirmWhenExceedSize,callback:function(s){e.$set(e.options,"needConfirmWhenExceedSize",s)},expression:"options.needConfirmWhenExceedSize"}}),e.options.needConfirmWhenExceedSize?t("v-flex",{attrs:{xs12:""}},[t("div",{staticStyle:{margin:"-40px 0 10px 40px"}},[t("v-text-field",{staticClass:"ml-2 d-inline-flex",staticStyle:{"max-width":"100px","max-height":"30px"},attrs:{placeholder:e.$t("settings.base.exceedSize")},model:{value:e.options.exceedSize,callback:function(s){e.$set(e.options,"exceedSize",s)},expression:"options.exceedSize"}}),t("v-select",{staticClass:"mx-2 d-inline-flex",staticStyle:{"max-width":"50px","max-height":"30px"},attrs:{items:e.units},model:{value:e.options.exceedSizeUnit,callback:function(s){e.$set(e.options,"exceedSizeUnit",s)},expression:"options.exceedSizeUnit"}})],1)]):e._e()],1)],1)],1)],1),t("v-tab-item",{key:"advanced"},[t("v-container",{attrs:{fluid:"","grid-list-xs":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{label:e.$t("settings.base.apiKey.omdb"),"auto-grow":"",box:""},model:{value:e.apiKey.omdb,callback:function(s){e.$set(e.apiKey,"omdb",s)},expression:"apiKey.omdb"}}),t("v-textarea",{attrs:{label:e.$t("settings.base.apiKey.douban"),"auto-grow":"",box:""},model:{value:e.apiKey.douban,callback:function(s){e.$set(e.apiKey,"douban",s)},expression:"apiKey.douban"}}),t("div",{staticClass:"mb-4 text-xs-right"},[t("v-btn",{attrs:{loading:e.apiKeyVerifying},on:{click:e.verifyApiKey}},[e._v(e._s(e.$t("settings.base.verifyApiKey")))])],1),t("v-alert",{attrs:{value:e.showVerifyingStatus,color:"info",icon:"info",outline:""}},[t("div",[e._v("OMDb:")]),t("div",{domProps:{innerHTML:e._s(e.apiKeyVerifyResults.omdb.join("<br>"))}}),t("v-divider"),t("div",[e._v("Douban:")]),t("div",{domProps:{innerHTML:e._s(e.apiKeyVerifyResults.douban.join("<br>"))}})],1),t("v-alert",{attrs:{value:!0,color:"info",icon:"info",outline:""}},[t("div",{domProps:{innerHTML:e._s(e.$t("settings.base.apiKeyTip").toString().replace(/\n/g,"<br>"))}})])],1)],1)],1)],1)],1)],1)],1),t("v-divider"),t("v-card-actions",{staticClass:"pa-3"},[t("v-btn",{attrs:{color:"success"},on:{click:e.save}},[t("v-icon",[e._v("check_circle_outline")]),t("span",{staticClass:"ml-1"},[e._v(e._s(e.$t("settings.base.save")))])],1),t("v-spacer")],1)],1),t("v-snackbar",{attrs:{absolute:"",top:"",timeout:3e3,color:"error"},model:{value:e.haveError,callback:function(s){e.haveError=s},expression:"haveError"}},[e._v(e._s(e.errorMsg))]),t("v-snackbar",{attrs:{absolute:"",bottom:"",timeout:3e3,color:"success"},model:{value:e.haveSuccess,callback:function(s){e.haveSuccess=s},expression:"haveSuccess"}},[e._v(e._s(e.successMsg))])],1)},k=[],K=x(S,w,k,!1,null,"844a422c",null,null);const R=K.exports;export{R as default};
