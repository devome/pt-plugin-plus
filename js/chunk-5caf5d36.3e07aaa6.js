(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5caf5d36"],{"13cf":function(t,e,i){},"1d1b":function(t,e,i){},"26e5":function(t,e,i){},"4bd4":function(t,e,i){"use strict";i("26e5");var s=i("94ab");e["a"]={name:"v-form",mixins:[Object(s["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",(function(i){e.$set(e.errorBag,t._uid,i)}),{immediate:!0})},s={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(s.valid=i(t)))})):s.valid=i(t),s},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var i=this.watchers.find((function(t){return t._uid===e._uid}));i.valid&&i.valid(),i.shouldValidate&&i.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},5858:function(t,e,i){"use strict";i("13cf")},"5f26":function(t,e,i){},"6d42":function(t,e,i){"use strict";i("5f26")},8515:function(t,e,i){"use strict";i("1d1b")},aa53:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"set-download-clients"},[i("v-alert",{attrs:{value:!0,type:"info"}},[t._v(t._s(t.$t("settings.searchSolution.index.title")))]),i("v-card",[i("v-card-title",[i("v-btn",{attrs:{color:"success"},on:{click:t.add}},[i("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v("\n        "+t._s(t.$t("common.add"))+"\n      ")],1),i("v-btn",{attrs:{color:"error",disabled:0==t.selected.length},on:{click:t.removeSelected}},[i("v-icon",{staticClass:"mr-2"},[t._v("remove")]),t._v("\n        "+t._s(t.$t("common.remove"))+"\n      ")],1),i("v-btn",{attrs:{color:"info",href:"https://github.com/pt-plugins/PT-Plugin-Plus/wiki/search-solution-definition",target:"_blank",rel:"noopener noreferrer nofollow"}},[i("v-icon",{staticClass:"mr-2"},[t._v("help")]),t._v("\n        "+t._s(t.$t("settings.searchSolution.index.help"))+"\n      ")],1),i("v-spacer"),i("v-text-field",{staticClass:"search",attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,pagination:t.pagination,"item-key":"name","select-all":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",{staticStyle:{width:"20px"}},[i("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"props.selected"}})],1),i("td",[i("a",{on:{click:function(i){return t.edit(e.item)}}},[t._v(t._s(e.item.name))])]),i("td",[t._l(e.item.range,(function(e,s){return[i("v-chip",{key:s,staticClass:"mr-2 pl-0",attrs:{label:"",color:"blue-grey","text-color":"white",small:""},on:{click:function(i){return t.editSearchEntry(e.host)}}},[t._v(t._s(e.siteName)+t._s(t.getSiteEntry(e.host,e.entry)))])]}))],2),i("td",[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(i){return t.edit(e.item)}}},[t._v("edit")]),i("v-icon",{attrs:{small:"",color:"error"},on:{click:function(i){return t.removeConfirm(e.item)}}},[t._v("delete")])],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),i("EditItem",{on:{save:t.updateItem},model:{value:t.showAddDialog,callback:function(e){t.showAddDialog=e},expression:"showAddDialog"}}),i("EditItem",{attrs:{option:t.selectedItem},on:{save:t.updateItem},model:{value:t.showEditDialog,callback:function(e){t.showEditDialog=e},expression:"showEditDialog"}}),i("v-dialog",{attrs:{width:"300"},model:{value:t.dialogRemoveConfirm,callback:function(e){t.dialogRemoveConfirm=e},expression:"dialogRemoveConfirm"}},[i("v-card",[i("v-card-title",{staticClass:"headline red lighten-2"},[t._v(t._s(t.$t("settings.searchSolution.index.removeConfirmTitle")))]),i("v-card-text",[t._v(t._s(t.$t("settings.searchSolution.index.removeConfirm")))]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"info"},on:{click:function(e){t.dialogRemoveConfirm=!1}}},[i("v-icon",[t._v("cancel")]),i("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("common.cancel")))])],1),i("v-btn",{attrs:{color:"error",flat:""},on:{click:t.remove}},[i("v-icon",[t._v("check_circle_outline")]),i("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("common.ok")))])],1)],1)],1)],1),i("v-snackbar",{attrs:{top:"",timeout:3e3,color:"error"},model:{value:t.itemDuplicate,callback:function(e){t.itemDuplicate=e},expression:"itemDuplicate"}},[t._v(t._s(t.$t("settings.searchSolution.index.itemDuplicate")))])],1)},n=[],a=(i("7f7f"),i("7514"),i("ac6a"),i("6b54"),i("20d6"),i("2b0e")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("v-card",[i("v-card-title",{staticClass:"headline blue-grey darken-2",staticStyle:{color:"white"}},[t._v(t._s(t.$t("settings.searchSolution.edit.title")))]),i("v-card-text",{staticClass:"body"},[i("Editor",{attrs:{option:t.defaultItem,initSites:t.sites},on:{change:t.change}})],1),i("v-divider"),i("v-card-actions",{staticClass:"pa-3 toolber"},[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"error"},on:{click:t.cancel}},[i("v-icon",[t._v("cancel")]),i("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("common.cancel")))])],1),i("v-btn",{attrs:{flat:"",color:"success",disabled:!t.valid},on:{click:t.save}},[i("v-icon",[t._v("check_circle_outline")]),i("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("common.ok")))])],1)],1)],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-solution-editor"},[i("v-card",{staticClass:"body",attrs:{color:"grey lighten-4"}},[i("v-card-text",[i("v-form",{staticClass:"content",model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs3:""}},[i("v-subheader",[t._v(t._s(t.$t("settings.searchSolution.editor.name")))])],1),i("v-flex",{attrs:{xs9:""}},[i("v-text-field",{attrs:{label:t.$t("settings.searchSolution.editor.name"),placeholder:t.$t("settings.searchSolution.editor.name"),required:"",rules:t.rules.require},on:{change:function(e){return t.change(!0)}},model:{value:t.option.name,callback:function(e){t.$set(t.option,"name",e)},expression:"option.name"}})],1)],1),i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs3:""}},[i("v-subheader",[t._v(t._s(t.$t("settings.searchSolution.editor.range")))])],1),i("v-flex",{attrs:{xs9:""}},[i("div",{staticClass:"list"},[i("v-list",{attrs:{dense:""}},[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.sites,pagination:t.pagination,"item-key":"host","select-all":"","hide-actions":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",[i("td",{staticStyle:{width:"20px"}},[i("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"props.selected"}})],1),i("td",[i("div",[t._v(t._s(e.item.name))]),e.item.enabled?i("v-container",{staticClass:"ma-0 pa-0 ml-4",attrs:{fluid:""}},[i("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},t._l(e.item.searchEntry,(function(e,s,n){return i("v-flex",{key:n,staticClass:"ma-0 pa-0",attrs:{xs3:""}},[i("v-checkbox",{staticClass:"ma-0 pa-0 caption",attrs:{label:e.name},on:{change:function(e){return t.change(!0)}},model:{value:e.enabled,callback:function(i){t.$set(e,"enabled",i)},expression:"item.enabled"}})],1)})),1)],1):t._e()],1)])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)])],1)],1),i("v-divider",{staticClass:"mb-2"}),i("div",{staticClass:"bottom"},[t._l(t.checked,(function(e,s){return[i("v-chip",{key:s,staticClass:"mr-2 pl-0",attrs:{label:"",color:"blue-grey","text-color":"white",small:"",disabled:""}},[t._v(t._s(e.siteName)+t._s(t.getSiteEntry(e.host,e.entry)))])]}))],2)],1)],1),i("v-snackbar",{attrs:{absolute:"",top:"",timeout:3e3,color:"error"},model:{value:t.haveError,callback:function(e){t.haveError=e},expression:"haveError"}},[t._v(t._s(t.errorMsg))]),i("v-snackbar",{attrs:{absolute:"",bottom:"",timeout:3e3,color:"success"},model:{value:t.haveSuccess,callback:function(e){t.haveSuccess=e},expression:"haveSuccess"}},[t._v(t._s(t.successMsg))])],1)},l=[],d=i("a1f4"),u=(new d["a"],a["default"].extend({data:function(){return{rules:{require:[function(t){return!!t||"!"}]},pagination:{rowsPerPage:-1},haveError:!1,haveSuccess:!1,successMsg:"",errorMsg:"",isValid:!1,checked:[],sites:[],selected:[],loading:!1}},props:{option:Object,initSites:{type:Array}},watch:{successMsg:function(){this.haveSuccess=""!=this.successMsg},errorMsg:function(){this.haveError=""!=this.errorMsg},initSites:function(){var t=this;this.loading=!0,this.selected=[],this.sites=this.initSites,this.sites.forEach((function(e){e.enabled&&t.selected.push(e)})),this.loading=!1,this.change(!1)},selected:function(){this.sites.forEach((function(t){t.enabled=!1})),this.selected.forEach((function(t){t.enabled=!0})),this.change()}},methods:{change:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.loading){var e=[];this.sites.forEach((function(t){if(t.enabled){var i=[];t.searchEntry&&t.searchEntry.forEach((function(t){t.enabled&&i.push(t.id||t.name)})),e.push({host:t.host,siteName:t.name,entry:i})}})),t&&this.$emit("change",{id:this.option.id,name:this.option.name,range:e}),this.checked=e}},selectAll:function(t){this.sites.forEach((function(e){e.enabled=t,e.searchEntry&&e.searchEntry.forEach((function(e){e.enabled=t}))})),this.change()},getSiteEntry:function(t,e){var i=this.sites.find((function(e){return e.host===t}));if(i&&i.searchEntry){var s=[],n=i.searchEntry;if(e.forEach((function(t){var e=n.findIndex((function(e){return e.id==t||e.name==t}));n[e]&&n[e].name&&s.push(n[e].name)})),s.length>0)return" -> "+s.join(";")}return""}},created:function(){},computed:{selectedAll:function(){return this.checked.length===this.sites.length},selectedSome:function(){return this.checked.length>0&&!this.selectedAll},selectAllIcon:function(){return this.selectedAll?"check_box":this.selectedSome?"indeterminate_check_box":"check_box_outline_blank"},headers:function(){return[{text:this.$t("settings.searchSolution.editor.headers.name"),align:"left",value:"name"}]}}})),h=u,f=(i("8515"),i("2877")),v=i("6544"),m=i.n(v),p=i("b0af"),g=i("99d9"),b=i("ac7c"),_=i("cc20"),x=i("a523"),S=i("8fea"),w=i("ce7e"),k=i("0e8f"),V=i("4bd4"),C=i("a722"),y=i("8860"),E=i("2db4"),$=i("e0c7"),I=i("2677"),D=Object(f["a"])(h,c,l,!1,null,null,null),A=D.exports;m()(D,{VCard:p["a"],VCardText:g["b"],VCheckbox:b["a"],VChip:_["a"],VContainer:x["a"],VDataTable:S["a"],VDivider:w["a"],VFlex:k["a"],VForm:V["a"],VLayout:C["a"],VList:y["a"],VSnackbar:E["a"],VSubheader:$["a"],VTextField:I["a"]});var B=i("0a02"),T=a["default"].extend({components:{Editor:A},data:function(){return{show:!1,valid:!1,sites:[],defaultItem:{id:"",name:"",range:[]},newValue:{}}},props:{value:Boolean,option:Object},model:{prop:"value",event:"change"},watch:{show:function(){this.$emit("change",this.show)},value:function(){this.show=this.value,this.show&&this.option&&(this.defaultItem=Object.assign({},this.option))},option:function(){console.log("option change",this.option),this.resetSites()}},methods:{save:function(){this.newValue&&(this.$emit("save",this.newValue),this.resetSites()),this.show=!1},cancel:function(){this.show=!1},change:function(t){console.log(t),this.newValue=t,this.valid=!!t.name},resetSites:function(){var t=this,e=B["a"].clone(this.$store.state.options.sites);this.sites=[],e.forEach((function(e){t.sites.push(Object.assign({},e))})),console.log("resetSites",this.option,this.sites),this.option&&this.option.id&&this.option.range.forEach((function(e){var i=t.sites.findIndex((function(t){return t.host===e.host}));if(i>-1){var s=t.sites[i];s.enabled=!0;var n=s.searchEntry;n&&(n.forEach((function(t,e){n[e].enabled=!1})),e.entry&&e.entry.forEach((function(t){var e=n.findIndex((function(e){return e.id==t||e.name==t}));n[e]&&n[e].name&&(n[e].enabled=!0)})))}}))}},created:function(){this.resetSites()}}),j=T,P=(i("6d42"),i("8336")),O=i("12b2"),M=i("169a"),R=i("132d"),z=i("9910"),F=Object(f["a"])(j,o,r,!1,null,"50bfdd87",null),q=F.exports;m()(F,{VBtn:P["a"],VCard:p["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:O["a"],VDialog:M["a"],VDivider:w["a"],VIcon:R["a"],VSpacer:z["a"]});var N=a["default"].extend({components:{EditItem:q},data:function(){return{showAddDialog:!1,showEditDialog:!1,itemDuplicate:!1,selected:[],selectedItem:{},pagination:{rowsPerPage:-1},items:[],dialogRemoveConfirm:!1,options:{}}},methods:{add:function(){this.selectedItem={},this.showEditDialog=!0},updateItem:function(t){this.$store.dispatch("updateSearchSolution",t),this.pagination.rowsPerPage=0,this.pagination.rowsPerPage=-1},edit:function(t){if(this.options.searchSolutions){var e=this.options.searchSolutions.findIndex((function(e){return t.id===e.id}));-1!==e&&(this.selectedItem=B["a"].clone(this.options.searchSolutions[e]),this.showEditDialog=!0)}},remove:function(){this.dialogRemoveConfirm=!1,this.$store.dispatch("removeSearchSolution",this.selectedItem),this.selectedItem={}},removeConfirm:function(t){this.selectedItem=t,this.dialogRemoveConfirm=!0},removeSelected:function(){var t=this;confirm(this.$t("settings.searchSolution.index.removeSelectedConfirm").toString())&&(console.log(this.selected),this.selected.forEach((function(e){t.$store.dispatch("removeSearchSolution",e)})),this.selected=[])},getSiteEntry:function(t,e){var i=this.options.sites.find((function(e){return e.host===t}));if(i&&i.searchEntry){var s=[],n=i.searchEntry;if(e.forEach((function(t){var e=n.findIndex((function(e){return e.id==t||e.name==t}));n[e]&&n[e].name&&s.push(n[e].name)})),s.length>0)return" -> "+s.join(";")}return""},editSearchEntry:function(t){this.$router.push({name:"set-site-search-entry",params:{host:t}})}},created:function(){this.options=this.$store.state.options,this.items=this.$store.state.options.searchSolutions},computed:{headers:function(){return[{text:this.$t("settings.searchSolution.index.headers.name"),align:"left",value:"name"},{text:this.$t("settings.searchSolution.index.headers.range"),align:"left",value:"range"},{text:this.$t("settings.searchSolution.index.headers.action"),value:"name",sortable:!1}]}}}),J=N,L=(i("5858"),i("0798")),G=Object(f["a"])(J,s,n,!1,null,"3879590a",null);e["default"]=G.exports;m()(G,{VAlert:L["a"],VBtn:P["a"],VCard:p["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:O["a"],VCheckbox:b["a"],VChip:_["a"],VDataTable:S["a"],VDialog:M["a"],VDivider:w["a"],VIcon:R["a"],VSnackbar:E["a"],VSpacer:z["a"],VTextField:I["a"]})}}]);